/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
(function(a)***REMOVED***var b=***REMOVED***"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1***REMOVED***,c=b[typeof window]&&window||this,d=b[typeof exports]&&exports&&!exports.nodeType&&exports,e=b[typeof module]&&module&&!module.nodeType&&module,f=(e&&e.exports===d&&d,b[typeof global]&&global);!f||f.global!==f&&f.window!==f||(c=f),"function"==typeof define&&define.amd?define(["rx"],function(b,d)***REMOVED***return a(c,d,b)***REMOVED***):"object"==typeof module&&module&&module.exports===d?module.exports=a(c,module.exports,require("./rx")):c.Rx=a(c,***REMOVED******REMOVED***,c.Rx)***REMOVED***).call(this,function(a,b,c,d)***REMOVED***function e(a,b)***REMOVED***return 1===a.length&&Array.isArray(a[b])?a[b]:v.call(a)***REMOVED***function f(a,b)***REMOVED***return new r(function()***REMOVED***return new q(function()***REMOVED***return a()?***REMOVED***done:!1,value:b***REMOVED***:***REMOVED***done:!0,value:d***REMOVED******REMOVED***)***REMOVED***)***REMOVED***var g=c.Observable,h=g.prototype,i=c.AnonymousObservable,j=g.concat,k=g.defer,l=g.empty,m=c.Disposable.empty,n=c.CompositeDisposable,o=c.SerialDisposable,p=c.SingleAssignmentDisposable,q=c.internals.Enumerator,r=c.internals.Enumerable,s=r.of,t=c.Scheduler.immediate,u=c.Scheduler.currentThread,v=Array.prototype.slice,w=c.AsyncSubject,x=c.Observer,y=c.internals.inherits,z=c.internals.bindCallback,A=c.internals.addProperties,B=c.helpers,C=B.noop,D=B.isPromise,E=B.isScheduler,F=g.fromPromise,G="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";a.Set&&"function"==typeof(new a.Set)["@@iterator"]&&(G="@@iterator");c.doneEnumerator=***REMOVED***done:!0,value:d***REMOVED***,c.helpers.isIterable=function(a)***REMOVED***return a[G]!==d***REMOVED***,c.helpers.isArrayLike=function(a)***REMOVED***return a&&a.length!==d***REMOVED***;c.helpers.iterator=G,h.letBind=h.let=function(a)***REMOVED***return a(this)***REMOVED***,g["if"]=g.ifThen=function(a,b,c)***REMOVED***return k(function()***REMOVED***return c||(c=l()),D(b)&&(b=F(b)),D(c)&&(c=F(c)),"function"==typeof c.now&&(c=l(c)),a()?b:c***REMOVED***)***REMOVED***,g["for"]=g.forIn=function(a,b,c)***REMOVED***return s(a,b,c).concat()***REMOVED***;var H=g["while"]=g.whileDo=function(a,b)***REMOVED***return D(b)&&(b=F(b)),f(a,b).concat()***REMOVED***;h.doWhile=function(a)***REMOVED***return j([this,H(a,this)])***REMOVED***,g["case"]=g.switchCase=function(a,b,c)***REMOVED***return k(function()***REMOVED***D(c)&&(c=F(c)),c||(c=l()),"function"==typeof c.now&&(c=l(c));var d=b[a()];return D(d)&&(d=F(d)),d||c***REMOVED***)***REMOVED***,h.expand=function(a,b)***REMOVED***E(b)||(b=t);var c=this;return new i(function(d)***REMOVED***var e=[],f=new o,g=new n(f),h=0,i=!1,j=function()***REMOVED***var c=!1;e.length>0&&(c=!i,i=!0),c&&f.setDisposable(b.scheduleRecursive(function(b)***REMOVED***var c;if(!(e.length>0))return void(i=!1);c=e.shift();var f=new p;g.add(f),f.setDisposable(c.subscribe(function(b)***REMOVED***d.onNext(b);var c=null;try***REMOVED***c=a(b)***REMOVED***catch(f)***REMOVED***d.onError(f)***REMOVED***e.push(c),h++,j()***REMOVED***,d.onError.bind(d),function()***REMOVED***g.remove(f),h--,0===h&&d.onCompleted()***REMOVED***)),b()***REMOVED***))***REMOVED***;return e.push(c),h++,j(),g***REMOVED***,this)***REMOVED***,g.forkJoin=function()***REMOVED***var a=e(arguments,0);return new i(function(b)***REMOVED***var c=a.length;if(0===c)return b.onCompleted(),m;for(var d=new n,e=!1,f=new Array(c),g=new Array(c),h=new Array(c),i=0;c>i;i++)!function(i)***REMOVED***var j=a[i];D(j)&&(j=F(j)),d.add(j.subscribe(function(a)***REMOVED***e||(f[i]=!0,h[i]=a)***REMOVED***,function(a)***REMOVED***e=!0,b.onError(a),d.dispose()***REMOVED***,function()***REMOVED***if(!e)***REMOVED***if(!f[i])return void b.onCompleted();g[i]=!0;for(var a=0;c>a;a++)if(!g[a])return;e=!0,b.onNext(h),b.onCompleted()***REMOVED******REMOVED***))***REMOVED***(i);return d***REMOVED***)***REMOVED***,h.forkJoin=function(a,b)***REMOVED***var c=this;return new i(function(d)***REMOVED***var e,f,g=!1,h=!1,i=!1,j=!1,k=new p,l=new p;return D(a)&&(a=F(a)),k.setDisposable(c.subscribe(function(a)***REMOVED***i=!0,e=a***REMOVED***,function(a)***REMOVED***l.dispose(),d.onError(a)***REMOVED***,function()***REMOVED***if(g=!0,h)if(i)if(j)***REMOVED***var a;try***REMOVED***a=b(e,f)***REMOVED***catch(c)***REMOVED***return void d.onError(c)***REMOVED***d.onNext(a),d.onCompleted()***REMOVED***else d.onCompleted();else d.onCompleted()***REMOVED***)),l.setDisposable(a.subscribe(function(a)***REMOVED***j=!0,f=a***REMOVED***,function(a)***REMOVED***k.dispose(),d.onError(a)***REMOVED***,function()***REMOVED***if(h=!0,g)if(i)if(j)***REMOVED***var a;try***REMOVED***a=b(e,f)***REMOVED***catch(c)***REMOVED***return void d.onError(c)***REMOVED***d.onNext(a),d.onCompleted()***REMOVED***else d.onCompleted();else d.onCompleted()***REMOVED***)),new n(k,l)***REMOVED***,c)***REMOVED***,h.manySelect=function(a,b)***REMOVED***E(b)||(b=t);var c=this;return k(function()***REMOVED***var d;return c.map(function(a)***REMOVED***var b=new I(a);return d&&d.onNext(a),d=b,b***REMOVED***).tap(C,function(a)***REMOVED***d&&d.onError(a)***REMOVED***,function()***REMOVED***d&&d.onCompleted()***REMOVED***).observeOn(b).map(a)***REMOVED***,c)***REMOVED***;var I=function(a)***REMOVED***function b(a)***REMOVED***var b=this,c=new n;return c.add(u.schedule(function()***REMOVED***a.onNext(b.head),c.add(b.tail.mergeAll().subscribe(a))***REMOVED***)),c***REMOVED***function c(c)***REMOVED***a.call(this,b),this.head=c,this.tail=new w***REMOVED***return y(c,a),A(c.prototype,x,***REMOVED***onCompleted:function()***REMOVED***this.onNext(g.empty())***REMOVED***,onError:function(a)***REMOVED***this.onNext(g.throwException(a))***REMOVED***,onNext:function(a)***REMOVED***this.tail.onNext(a),this.tail.onCompleted()***REMOVED******REMOVED***),c***REMOVED***(g);return h.exclusive=function()***REMOVED***var a=this;return new i(function(b)***REMOVED***var c=!1,d=!1,e=new p,f=new n;return f.add(e),e.setDisposable(a.subscribe(function(a)***REMOVED***if(!c)***REMOVED***c=!0,D(a)&&(a=F(a));var e=new p;f.add(e),e.setDisposable(a.subscribe(b.onNext.bind(b),b.onError.bind(b),function()***REMOVED***f.remove(e),c=!1,d&&1===f.length&&b.onCompleted()***REMOVED***))***REMOVED******REMOVED***,b.onError.bind(b),function()***REMOVED***d=!0,c||1!==f.length||b.onCompleted()***REMOVED***)),f***REMOVED***,this)***REMOVED***,h.exclusiveMap=function(a,b)***REMOVED***var c=this,d=z(a,b,3);return new i(function(a)***REMOVED***var b=0,e=!1,f=!0,g=new p,h=new n;return h.add(g),g.setDisposable(c.subscribe(function(c)***REMOVED***e||(e=!0,innerSubscription=new p,h.add(innerSubscription),D(c)&&(c=F(c)),innerSubscription.setDisposable(c.subscribe(function(e)***REMOVED***var f;try***REMOVED***f=d(e,b++,c)***REMOVED***catch(g)***REMOVED***return void a.onError(g)***REMOVED***a.onNext(f)***REMOVED***,function(b)***REMOVED***a.onError(b)***REMOVED***,function()***REMOVED***h.remove(innerSubscription),e=!1,f&&1===h.length&&a.onCompleted()***REMOVED***)))***REMOVED***,function(b)***REMOVED***a.onError(b)***REMOVED***,function()***REMOVED***f=!0,1!==h.length||e||a.onCompleted()***REMOVED***)),h***REMOVED***,this)***REMOVED***,c***REMOVED***);
//# sourceMappingURL=rx.experimental.map