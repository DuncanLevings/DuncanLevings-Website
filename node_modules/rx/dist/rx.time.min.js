/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
(function(a)***REMOVED***var b=***REMOVED***"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1***REMOVED***,c=b[typeof window]&&window||this,d=b[typeof exports]&&exports&&!exports.nodeType&&exports,e=b[typeof module]&&module&&!module.nodeType&&module,f=(e&&e.exports===d&&d,b[typeof global]&&global);!f||f.global!==f&&f.window!==f||(c=f),"function"==typeof define&&define.amd?define(["rx"],function(b,d)***REMOVED***return a(c,d,b)***REMOVED***):"object"==typeof module&&module&&module.exports===d?module.exports=a(c,module.exports,require("./rx")):c.Rx=a(c,***REMOVED******REMOVED***,c.Rx)***REMOVED***).call(this,function(a,b,c,d)***REMOVED***function e(a,b)***REMOVED***return new n(function(c)***REMOVED***return b.scheduleWithAbsolute(a,function()***REMOVED***c.onNext(0),c.onCompleted()***REMOVED***)***REMOVED***)***REMOVED***function f(a,b,c)***REMOVED***return new n(function(d)***REMOVED***var e=0,f=a,g=z(b);return c.scheduleRecursiveWithAbsolute(f,function(a)***REMOVED***if(g>0)***REMOVED***var b=c.now();f+=g,b>=f&&(f=b+g)***REMOVED***d.onNext(e++),a(f)***REMOVED***)***REMOVED***)***REMOVED***function g(a,b)***REMOVED***return new n(function(c)***REMOVED***return b.scheduleWithRelative(z(a),function()***REMOVED***c.onNext(0),c.onCompleted()***REMOVED***)***REMOVED***)***REMOVED***function h(a,b,c)***REMOVED***return a===b?new n(function(a)***REMOVED***return c.schedulePeriodicWithState(0,b,function(b)***REMOVED***return a.onNext(b),b+1***REMOVED***)***REMOVED***):o(function()***REMOVED***return f(c.now()+a,b,c)***REMOVED***)***REMOVED***function i(a,b,c)***REMOVED***return new n(function(d)***REMOVED***var e,f=!1,g=new u,h=null,i=[],j=!1;return e=a.materialize().timestamp(c).subscribe(function(a)***REMOVED***var e,k;"E"===a.value.kind?(i=[],i.push(a),h=a.value.exception,k=!j):(i.push(***REMOVED***value:a.value,timestamp:a.timestamp+b***REMOVED***),k=!f,f=!0),k&&(null!==h?d.onError(h):(e=new t,g.setDisposable(e),e.setDisposable(c.scheduleRecursiveWithRelative(b,function(a)***REMOVED***var b,e,g,k;if(null===h)***REMOVED***j=!0;do g=null,i.length>0&&i[0].timestamp-c.now()<=0&&(g=i.shift().value),null!==g&&g.accept(d);while(null!==g);k=!1,e=0,i.length>0?(k=!0,e=Math.max(0,i[0].timestamp-c.now())):f=!1,b=h,j=!1,null!==b?d.onError(b):k&&a(e)***REMOVED******REMOVED***))))***REMOVED***),new v(e,g)***REMOVED***,a)***REMOVED***function j(a,b,c)***REMOVED***return o(function()***REMOVED***return i(a,b-c.now(),c)***REMOVED***)***REMOVED***function k(a,b)***REMOVED***return new n(function(c)***REMOVED***function d()***REMOVED***g&&(g=!1,c.onNext(f)),e&&c.onCompleted()***REMOVED***var e,f,g;return new v(a.subscribe(function(a)***REMOVED***g=!0,f=a***REMOVED***,c.onError.bind(c),function()***REMOVED***e=!0***REMOVED***),b.subscribe(d,c.onError.bind(c),d))***REMOVED***,a)***REMOVED***var l=c.Observable,m=l.prototype,n=c.AnonymousObservable,o=l.defer,p=l.empty,q=l.never,r=l.throwException,s=(l.fromArray,c.Scheduler.timeout),t=c.SingleAssignmentDisposable,u=c.SerialDisposable,v=c.CompositeDisposable,w=c.RefCountDisposable,x=c.Subject,y=c.internals.addRef,z=c.Scheduler.normalize,A=c.helpers,B=A.isPromise,C=A.isScheduler,D=l.fromPromise,E=(A.deprecate,l.interval=function(a,b)***REMOVED***return h(a,a,C(b)?b:s)***REMOVED***),F=l.timer=function(a,b,c)***REMOVED***var i;return C(c)||(c=s),b!==d&&"number"==typeof b?i=b:C(b)&&(c=b),a instanceof Date&&i===d?e(a.getTime(),c):a instanceof Date&&i!==d?(i=b,f(a.getTime(),i,c)):i===d?g(a,c):h(a,i,c)***REMOVED***;return m.delay=function(a,b)***REMOVED***return C(b)||(b=s),a instanceof Date?j(this,a.getTime(),b):i(this,a,b)***REMOVED***,m.debounce=m.throttleWithTimeout=function(a,b)***REMOVED***C(b)||(b=s);var c=this;return new n(function(d)***REMOVED***var e,f=new u,g=!1,h=0,i=c.subscribe(function(c)***REMOVED***g=!0,e=c,h++;var i=h,j=new t;f.setDisposable(j),j.setDisposable(b.scheduleWithRelative(a,function()***REMOVED***g&&h===i&&d.onNext(e),g=!1***REMOVED***))***REMOVED***,function(a)***REMOVED***f.dispose(),d.onError(a),g=!1,h++***REMOVED***,function()***REMOVED***f.dispose(),g&&d.onNext(e),d.onCompleted(),g=!1,h++***REMOVED***);return new v(i,f)***REMOVED***,this)***REMOVED***,m.throttle=function(a,b)***REMOVED***return this.debounce(a,b)***REMOVED***,m.windowWithTime=function(a,b,c)***REMOVED***var d,e=this;return null==b&&(d=a),C(c)||(c=s),"number"==typeof b?d=b:C(b)&&(d=a,c=b),new n(function(b)***REMOVED***function f()***REMOVED***var a=new t,e=!1,g=!1;l.setDisposable(a),j===i?(e=!0,g=!0):i>j?e=!0:g=!0;var n=e?j:i,o=n-m;m=n,e&&(j+=d),g&&(i+=d),a.setDisposable(c.scheduleWithRelative(o,function()***REMOVED***if(g)***REMOVED***var a=new x;k.push(a),b.onNext(y(a,h))***REMOVED***e&&k.shift().onCompleted(),f()***REMOVED***))***REMOVED***var g,h,i=d,j=a,k=[],l=new u,m=0;return g=new v(l),h=new w(g),k.push(new x),b.onNext(y(k[0],h)),f(),g.add(e.subscribe(function(a)***REMOVED***for(var b=0,c=k.length;c>b;b++)k[b].onNext(a)***REMOVED***,function(a)***REMOVED***for(var c=0,d=k.length;d>c;c++)k[c].onError(a);b.onError(a)***REMOVED***,function()***REMOVED***for(var a=0,c=k.length;c>a;a++)k[a].onCompleted();b.onCompleted()***REMOVED***)),h***REMOVED***,e)***REMOVED***,m.windowWithTimeOrCount=function(a,b,c)***REMOVED***var d=this;return C(c)||(c=s),new n(function(e)***REMOVED***function f(b)***REMOVED***var d=new t;g.setDisposable(d),d.setDisposable(c.scheduleWithRelative(a,function()***REMOVED***if(b===k)***REMOVED***j=0;var a=++k;l.onCompleted(),l=new x,e.onNext(y(l,i)),f(a)***REMOVED******REMOVED***))***REMOVED***var g=new u,h=new v(g),i=new w(h),j=0,k=0,l=new x;return e.onNext(y(l,i)),f(0),h.add(d.subscribe(function(a)***REMOVED***var c=0,d=!1;l.onNext(a),++j===b&&(d=!0,j=0,c=++k,l.onCompleted(),l=new x,e.onNext(y(l,i))),d&&f(c)***REMOVED***,function(a)***REMOVED***l.onError(a),e.onError(a)***REMOVED***,function()***REMOVED***l.onCompleted(),e.onCompleted()***REMOVED***)),i***REMOVED***,d)***REMOVED***,m.bufferWithTime=function()***REMOVED***return this.windowWithTime.apply(this,arguments).selectMany(function(a)***REMOVED***return a.toArray()***REMOVED***)***REMOVED***,m.bufferWithTimeOrCount=function(a,b,c)***REMOVED***return this.windowWithTimeOrCount(a,b,c).selectMany(function(a)***REMOVED***return a.toArray()***REMOVED***)***REMOVED***,m.timeInterval=function(a)***REMOVED***var b=this;return C(a)||(a=s),o(function()***REMOVED***var c=a.now();return b.map(function(b)***REMOVED***var d=a.now(),e=d-c;return c=d,***REMOVED***value:b,interval:e***REMOVED******REMOVED***)***REMOVED***)***REMOVED***,m.timestamp=function(a)***REMOVED***return C(a)||(a=s),this.map(function(b)***REMOVED***return***REMOVED***value:b,timestamp:a.now()***REMOVED******REMOVED***)***REMOVED***,m.sample=m.throttleLatest=function(a,b)***REMOVED***return C(b)||(b=s),"number"==typeof a?k(this,E(a,b)):k(this,a)***REMOVED***,m.timeout=function(a,b,c)***REMOVED***(null==b||"string"==typeof b)&&(b=r(new Error(b||"Timeout"))),C(c)||(c=s);var d=this,e=a instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new n(function(f)***REMOVED***function g()***REMOVED***var d=h;l.setDisposable(c[e](a,function()***REMOVED***h===d&&(B(b)&&(b=D(b)),j.setDisposable(b.subscribe(f)))***REMOVED***))***REMOVED***var h=0,i=new t,j=new u,k=!1,l=new u;return j.setDisposable(i),g(),i.setDisposable(d.subscribe(function(a)***REMOVED***k||(h++,f.onNext(a),g())***REMOVED***,function(a)***REMOVED***k||(h++,f.onError(a))***REMOVED***,function()***REMOVED***k||(h++,f.onCompleted())***REMOVED***)),new v(j,l)***REMOVED***,d)***REMOVED***,l.generateWithAbsoluteTime=function(a,b,c,d,e,f)***REMOVED***return C(f)||(f=s),new n(function(g)***REMOVED***var h,i,j=!0,k=!1,l=a;return f.scheduleRecursiveWithAbsolute(f.now(),function(a)***REMOVED***k&&g.onNext(h);try***REMOVED***j?j=!1:l=c(l),k=b(l),k&&(h=d(l),i=e(l))***REMOVED***catch(f)***REMOVED***return void g.onError(f)***REMOVED***k?a(i):g.onCompleted()***REMOVED***)***REMOVED***)***REMOVED***,l.generateWithRelativeTime=function(a,b,c,d,e,f)***REMOVED***return C(f)||(f=s),new n(function(g)***REMOVED***var h,i,j=!0,k=!1,l=a;return f.scheduleRecursiveWithRelative(0,function(a)***REMOVED***k&&g.onNext(h);try***REMOVED***j?j=!1:l=c(l),k=b(l),k&&(h=d(l),i=e(l))***REMOVED***catch(f)***REMOVED***return void g.onError(f)***REMOVED***k?a(i):g.onCompleted()***REMOVED***)***REMOVED***)***REMOVED***,m.delaySubscription=function(a,b)***REMOVED***return this.delayWithSelector(F(a,C(b)?b:s),p)***REMOVED***,m.delayWithSelector=function(a,b)***REMOVED***var c,d,e=this;return"function"==typeof a?d=a:(c=a,d=b),new n(function(a)***REMOVED***var b=new v,f=!1,g=function()***REMOVED***f&&0===b.length&&a.onCompleted()***REMOVED***,h=new u,i=function()***REMOVED***h.setDisposable(e.subscribe(function(c)***REMOVED***var e;try***REMOVED***e=d(c)***REMOVED***catch(f)***REMOVED***return void a.onError(f)***REMOVED***var h=new t;b.add(h),h.setDisposable(e.subscribe(function()***REMOVED***a.onNext(c),b.remove(h),g()***REMOVED***,a.onError.bind(a),function()***REMOVED***a.onNext(c),b.remove(h),g()***REMOVED***))***REMOVED***,a.onError.bind(a),function()***REMOVED***f=!0,h.dispose(),g()***REMOVED***))***REMOVED***;return c?h.setDisposable(c.subscribe(i,a.onError.bind(a),i)):i(),new v(h,b)***REMOVED***,this)***REMOVED***,m.timeoutWithSelector=function(a,b,c)***REMOVED***1===arguments.length&&(b=a,a=q()),c||(c=r(new Error("Timeout")));var d=this;return new n(function(e)***REMOVED***function f(a)***REMOVED***function b()***REMOVED***return k===d***REMOVED***var d=k,f=new t;i.setDisposable(f),f.setDisposable(a.subscribe(function()***REMOVED***b()&&h.setDisposable(c.subscribe(e)),f.dispose()***REMOVED***,function(a)***REMOVED***b()&&e.onError(a)***REMOVED***,function()***REMOVED***b()&&h.setDisposable(c.subscribe(e))***REMOVED***))***REMOVED***function g()***REMOVED***var a=!l;return a&&k++,a***REMOVED***var h=new u,i=new u,j=new t;h.setDisposable(j);var k=0,l=!1;return f(a),j.setDisposable(d.subscribe(function(a)***REMOVED***if(g())***REMOVED***e.onNext(a);var c;try***REMOVED***c=b(a)***REMOVED***catch(d)***REMOVED***return void e.onError(d)***REMOVED***f(B(c)?D(c):c)***REMOVED******REMOVED***,function(a)***REMOVED***g()&&e.onError(a)***REMOVED***,function()***REMOVED***g()&&e.onCompleted()***REMOVED***)),new v(h,i)***REMOVED***,d)***REMOVED***,m.debounceWithSelector=function(a)***REMOVED***var b=this;return new n(function(c)***REMOVED***var d,e=!1,f=new u,g=0,h=b.subscribe(function(b)***REMOVED***var h;try***REMOVED***h=a(b)***REMOVED***catch(i)***REMOVED***return void c.onError(i)***REMOVED***B(h)&&(h=D(h)),e=!0,d=b,g++;var j=g,k=new t;f.setDisposable(k),k.setDisposable(h.subscribe(function()***REMOVED***e&&g===j&&c.onNext(d),e=!1,k.dispose()***REMOVED***,c.onError.bind(c),function()***REMOVED***e&&g===j&&c.onNext(d),e=!1,k.dispose()***REMOVED***))***REMOVED***,function(a)***REMOVED***f.dispose(),c.onError(a),e=!1,g++***REMOVED***,function()***REMOVED***f.dispose(),e&&c.onNext(d),c.onCompleted(),e=!1,g++***REMOVED***);return new v(h,f)***REMOVED***,b)***REMOVED***,m.throttleWithSelector=function()***REMOVED***return this.debounceWithSelector.apply(this,arguments)***REMOVED***,m.skipLastWithTime=function(a,b)***REMOVED***C(b)||(b=s);var c=this;return new n(function(d)***REMOVED***var e=[];return c.subscribe(function(c)***REMOVED***var f=b.now();for(e.push(***REMOVED***interval:f,value:c***REMOVED***);e.length>0&&f-e[0].interval>=a;)d.onNext(e.shift().value)***REMOVED***,function(a)***REMOVED***d.onError(a)***REMOVED***,function()***REMOVED***for(var c=b.now();e.length>0&&c-e[0].interval>=a;)d.onNext(e.shift().value);d.onCompleted()***REMOVED***)***REMOVED***,c)***REMOVED***,m.takeLastWithTime=function(a,b)***REMOVED***var c=this;return C(b)||(b=s),new n(function(d)***REMOVED***var e=[];return c.subscribe(function(c)***REMOVED***var d=b.now();for(e.push(***REMOVED***interval:d,value:c***REMOVED***);e.length>0&&d-e[0].interval>=a;)e.shift()***REMOVED***,function(a)***REMOVED***d.onError(a)***REMOVED***,function()***REMOVED***for(var c=b.now();e.length>0;)***REMOVED***var f=e.shift();c-f.interval<=a&&d.onNext(f.value)***REMOVED***d.onCompleted()***REMOVED***)***REMOVED***,c)***REMOVED***,m.takeLastBufferWithTime=function(a,b)***REMOVED***var c=this;return C(b)||(b=s),new n(function(d)***REMOVED***var e=[];return c.subscribe(function(c)***REMOVED***var d=b.now();for(e.push(***REMOVED***interval:d,value:c***REMOVED***);e.length>0&&d-e[0].interval>=a;)e.shift()***REMOVED***,function(a)***REMOVED***d.onError(a)***REMOVED***,function()***REMOVED***for(var c=b.now(),f=[];e.length>0;)***REMOVED***var g=e.shift();c-g.interval<=a&&f.push(g.value)***REMOVED***d.onNext(f),d.onCompleted()***REMOVED***)***REMOVED***,c)***REMOVED***,m.takeWithTime=function(a,b)***REMOVED***var c=this;return C(b)||(b=s),new n(function(d)***REMOVED***return new v(b.scheduleWithRelative(a,function()***REMOVED***d.onCompleted()***REMOVED***),c.subscribe(d))***REMOVED***,c)***REMOVED***,m.skipWithTime=function(a,b)***REMOVED***var c=this;return C(b)||(b=s),new n(function(d)***REMOVED***var e=!1;return new v(b.scheduleWithRelative(a,function()***REMOVED***e=!0***REMOVED***),c.subscribe(function(a)***REMOVED***e&&d.onNext(a)***REMOVED***,d.onError.bind(d),d.onCompleted.bind(d)))***REMOVED***,c)***REMOVED***,m.skipUntilWithTime=function(a,b)***REMOVED***C(b)||(b=s);var c=this,d=a instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new n(function(e)***REMOVED***var f=!1;return new v(b[d](a,function()***REMOVED***f=!0***REMOVED***),c.subscribe(function(a)***REMOVED***f&&e.onNext(a)***REMOVED***,function(a)***REMOVED***e.onError(a)***REMOVED***,function()***REMOVED***e.onCompleted()***REMOVED***))***REMOVED***,c)***REMOVED***,m.takeUntilWithTime=function(a,b)***REMOVED***C(b)||(b=s);var c=this,d=a instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new n(function(e)***REMOVED***return new v(b[d](a,function()***REMOVED***e.onCompleted()***REMOVED***),c.subscribe(e))***REMOVED***,c)***REMOVED***,m.throttleFirst=function(a,b)***REMOVED***C(b)||(b=s);var c=+a||0;if(0>=c)throw new RangeError("windowDuration cannot be less or equal zero.");var d=this;return new n(function(a)***REMOVED***var e=0;return d.subscribe(function(d)***REMOVED***var f=b.now();(0===e||f-e>=c)&&(e=f,a.onNext(d))***REMOVED***,function(b)***REMOVED***a.onError(b)***REMOVED***,function()***REMOVED***a.onCompleted()***REMOVED***)***REMOVED***,d)***REMOVED***,c***REMOVED***);
//# sourceMappingURL=rx.time.map