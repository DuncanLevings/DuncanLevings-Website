/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
(function(a)***REMOVED***var b=***REMOVED***"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1***REMOVED***,c=b[typeof window]&&window||this,d=b[typeof exports]&&exports&&!exports.nodeType&&exports,e=b[typeof module]&&module&&!module.nodeType&&module,f=(e&&e.exports===d&&d,b[typeof global]&&global);!f||f.global!==f&&f.window!==f||(c=f),"function"==typeof define&&define.amd?define(["rx.virtualtime","exports"],function(b,d)***REMOVED***return c.Rx=a(c,d,b),c.Rx***REMOVED***):"object"==typeof module&&module&&module.exports===d?module.exports=a(c,module.exports,require("./rx.all")):c.Rx=a(c,***REMOVED******REMOVED***,c.Rx)***REMOVED***).call(this,function(a,b,c,d)***REMOVED***function e(a,b)***REMOVED***return 1===a.length&&Array.isArray(a[b])?a[b]:q.call(a)***REMOVED***function f(a)***REMOVED***this.predicate=a***REMOVED***function g(a)***REMOVED***this.predicate=a***REMOVED***function h(a,b)***REMOVED***var c=this;this.scheduler=a,this.messages=b,this.subscriptions=[],this.observers=[];for(var d=0,e=this.messages.length;e>d;d++)***REMOVED***var f=this.messages[d],g=f.value;!function(b)***REMOVED***a.scheduleAbsoluteWithState(null,f.time,function()***REMOVED***for(var a=c.observers.slice(0),d=0,e=a.length;e>d;d++)b.accept(a[d]);return n***REMOVED***)***REMOVED***(g)***REMOVED******REMOVED***var i=c.Observer,j=c.Observable,k=c.Notification,l=c.VirtualTimeScheduler,m=c.Disposable,n=m.empty,o=m.create,p=c.CompositeDisposable,q=(c.SingleAssignmentDisposable,Array.prototype.slice),r=c.internals.inherits,s=c.internals.isEqual;f.prototype.equals=function(a)***REMOVED***return a===this?!0:null==a?!1:"N"!==a.kind?!1:this.predicate(a.value)***REMOVED***,g.prototype.equals=function(a)***REMOVED***return a===this?!0:null==a?!1:"E"!==a.kind?!1:this.predicate(a.exception)***REMOVED***;var t=c.ReactiveTest=***REMOVED***created:100,subscribed:200,disposed:1e3,onNext:function(a,b)***REMOVED***return"function"==typeof b?new u(a,new f(b)):new u(a,k.createOnNext(b))***REMOVED***,onError:function(a,b)***REMOVED***return"function"==typeof b?new u(a,new g(b)):new u(a,k.createOnError(b))***REMOVED***,onCompleted:function(a)***REMOVED***return new u(a,k.createOnCompleted())***REMOVED***,subscribe:function(a,b)***REMOVED***return new v(a,b)***REMOVED******REMOVED***,u=c.Recorded=function(a,b,c)***REMOVED***this.time=a,this.value=b,this.comparer=c||s***REMOVED***;u.prototype.equals=function(a)***REMOVED***return this.time===a.time&&this.comparer(this.value,a.value)***REMOVED***,u.prototype.toString=function()***REMOVED***return this.value.toString()+"@"+this.time***REMOVED***;var v=c.Subscription=function(a,b)***REMOVED***this.subscribe=a,this.unsubscribe=b||Number.MAX_VALUE***REMOVED***;v.prototype.equals=function(a)***REMOVED***return this.subscribe===a.subscribe&&this.unsubscribe===a.unsubscribe***REMOVED***,v.prototype.toString=function()***REMOVED***return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"***REMOVED***;var w=c.MockDisposable=function(a)***REMOVED***this.scheduler=a,this.disposes=[],this.disposes.push(this.scheduler.clock)***REMOVED***;w.prototype.dispose=function()***REMOVED***this.disposes.push(this.scheduler.clock)***REMOVED***;var x=function(a)***REMOVED***function b(b)***REMOVED***a.call(this),this.scheduler=b,this.messages=[]***REMOVED***r(b,a);var c=b.prototype;return c.onNext=function(a)***REMOVED***this.messages.push(new u(this.scheduler.clock,k.createOnNext(a)))***REMOVED***,c.onError=function(a)***REMOVED***this.messages.push(new u(this.scheduler.clock,k.createOnError(a)))***REMOVED***,c.onCompleted=function()***REMOVED***this.messages.push(new u(this.scheduler.clock,k.createOnCompleted()))***REMOVED***,b***REMOVED***(i);h.prototype.then=function(a,b)***REMOVED***var e=this;this.subscriptions.push(new v(this.scheduler.clock));var f,g=this.subscriptions.length-1,i=c.Observer.create(function(b)***REMOVED***var j=a(b);if(j&&"function"==typeof j.then)f=j;else***REMOVED***var k=e.scheduler.clock;f=new h(e.scheduler,[c.ReactiveTest.onNext(k,d),c.ReactiveTest.onCompleted(k)])***REMOVED***var l=e.observers.indexOf(i);e.observers.splice(l,1),e.subscriptions[g]=new v(e.subscriptions[g].subscribe,e.scheduler.clock)***REMOVED***,function(a)***REMOVED***b(a);var c=e.observers.indexOf(i);e.observers.splice(c,1),e.subscriptions[g]=new v(e.subscriptions[g].subscribe,e.scheduler.clock)***REMOVED***);return this.observers.push(i),f||new h(this.scheduler,this.messages)***REMOVED***;var y=function(a)***REMOVED***function b(a)***REMOVED***var b=this;this.observers.push(a),this.subscriptions.push(new v(this.scheduler.clock));var c=this.subscriptions.length-1;return o(function()***REMOVED***var d=b.observers.indexOf(a);b.observers.splice(d,1),b.subscriptions[c]=new v(b.subscriptions[c].subscribe,b.scheduler.clock)***REMOVED***)***REMOVED***function c(c,d)***REMOVED***a.call(this,b);var e,f,g=this;this.scheduler=c,this.messages=d,this.subscriptions=[],this.observers=[];for(var h=0,i=this.messages.length;i>h;h++)e=this.messages[h],f=e.value,function(a)***REMOVED***c.scheduleAbsoluteWithState(null,e.time,function()***REMOVED***for(var b=g.observers.slice(0),c=0,d=b.length;d>c;c++)a.accept(b[c]);return n***REMOVED***)***REMOVED***(f)***REMOVED***return r(c,a),c***REMOVED***(j),z=function(a)***REMOVED***function b(a)***REMOVED***var b,c,d=this;this.subscriptions.push(new v(this.scheduler.clock));for(var e=this.subscriptions.length-1,f=new p,g=0,h=this.messages.length;h>g;g++)b=this.messages[g],c=b.value,function(c)***REMOVED***f.add(d.scheduler.scheduleRelativeWithState(null,b.time,function()***REMOVED***return c.accept(a),n***REMOVED***))***REMOVED***(c);return o(function()***REMOVED***d.subscriptions[e]=new v(d.subscriptions[e].subscribe,d.scheduler.clock),f.dispose()***REMOVED***)***REMOVED***function c(c,d)***REMOVED***a.call(this,b),this.scheduler=c,this.messages=d,this.subscriptions=[]***REMOVED***return r(c,a),c***REMOVED***(j);return c.TestScheduler=function(a)***REMOVED***function b(a,b)***REMOVED***return a>b?1:b>a?-1:0***REMOVED***function d()***REMOVED***a.call(this,0,b)***REMOVED***return r(d,a),d.prototype.scheduleAbsoluteWithState=function(b,c,d)***REMOVED***return c<=this.clock&&(c=this.clock+1),a.prototype.scheduleAbsoluteWithState.call(this,b,c,d)***REMOVED***,d.prototype.add=function(a,b)***REMOVED***return a+b***REMOVED***,d.prototype.toDateTimeOffset=function(a)***REMOVED***return new Date(a).getTime()***REMOVED***,d.prototype.toRelative=function(a)***REMOVED***return a***REMOVED***,d.prototype.startWithTiming=function(a,b,c,d)***REMOVED***var e,f,g=this.createObserver();return this.scheduleAbsoluteWithState(null,b,function()***REMOVED***return e=a(),n***REMOVED***),this.scheduleAbsoluteWithState(null,c,function()***REMOVED***return f=e.subscribe(g),n***REMOVED***),this.scheduleAbsoluteWithState(null,d,function()***REMOVED***return f.dispose(),n***REMOVED***),this.start(),g***REMOVED***,d.prototype.startWithDispose=function(a,b)***REMOVED***return this.startWithTiming(a,t.created,t.subscribed,b)***REMOVED***,d.prototype.startWithCreate=function(a)***REMOVED***return this.startWithTiming(a,t.created,t.subscribed,t.disposed)***REMOVED***,d.prototype.createHotObservable=function()***REMOVED***var a=e(arguments,0);return new y(this,a)***REMOVED***,d.prototype.createColdObservable=function()***REMOVED***var a=e(arguments,0);return new z(this,a)***REMOVED***,d.prototype.createResolvedPromise=function(a,b)***REMOVED***return new h(this,[c.ReactiveTest.onNext(a,b),c.ReactiveTest.onCompleted(a)])***REMOVED***,d.prototype.createRejectedPromise=function(a,b)***REMOVED***return new h(this,[c.ReactiveTest.onError(a,b)])***REMOVED***,d.prototype.createObserver=function()***REMOVED***return new x(this)***REMOVED***,d***REMOVED***(l),c***REMOVED***);
//# sourceMappingURL=rx.testing.map