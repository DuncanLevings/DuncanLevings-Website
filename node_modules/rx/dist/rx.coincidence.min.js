/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
(function(a)***REMOVED***var b=***REMOVED***"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1***REMOVED***,c=b[typeof window]&&window||this,d=b[typeof exports]&&exports&&!exports.nodeType&&exports,e=b[typeof module]&&module&&!module.nodeType&&module,f=(e&&e.exports===d&&d,b[typeof global]&&global);!f||f.global!==f&&f.window!==f||(c=f),"function"==typeof define&&define.amd?define(["rx"],function(b,d)***REMOVED***return a(c,d,b)***REMOVED***):"object"==typeof module&&module&&module.exports===d?module.exports=a(c,module.exports,require("./rx")):c.Rx=a(c,***REMOVED******REMOVED***,c.Rx)***REMOVED***).call(this,function(a,b,c,d)***REMOVED***function e(a,b)***REMOVED***return a.groupJoin(this,b,o,function(a,b)***REMOVED***return b***REMOVED***)***REMOVED***function f(a)***REMOVED***var b=this;return new q(function(c)***REMOVED***var d=new m,e=new i,f=new j(e);return c.onNext(r(d,f)),e.add(b.subscribe(function(a)***REMOVED***d.onNext(a)***REMOVED***,function(a)***REMOVED***d.onError(a),c.onError(a)***REMOVED***,function()***REMOVED***d.onCompleted(),c.onCompleted()***REMOVED***)),v(a)&&(a=w(a)),e.add(a.subscribe(function()***REMOVED***d.onCompleted(),d=new m,c.onNext(r(d,f))***REMOVED***,function(a)***REMOVED***d.onError(a),c.onError(a)***REMOVED***,function()***REMOVED***d.onCompleted(),c.onCompleted()***REMOVED***)),f***REMOVED***,b)***REMOVED***function g(a)***REMOVED***var b=this;return new q(function(c)***REMOVED***function d()***REMOVED***var b;try***REMOVED***b=a()***REMOVED***catch(f)***REMOVED***return void c.onError(f)***REMOVED***v(b)&&(b=w(b));var i=new k;e.setDisposable(i),i.setDisposable(b.take(1).subscribe(t,function(a)***REMOVED***h.onError(a),c.onError(a)***REMOVED***,function()***REMOVED***h.onCompleted(),h=new m,c.onNext(r(h,g)),d()***REMOVED***))***REMOVED***var e=new l,f=new i(e),g=new j(f),h=new m;return c.onNext(r(h,g)),f.add(b.subscribe(function(a)***REMOVED***h.onNext(a)***REMOVED***,function(a)***REMOVED***h.onError(a),c.onError(a)***REMOVED***,function()***REMOVED***h.onCompleted(),c.onCompleted()***REMOVED***)),d(),g***REMOVED***,b)***REMOVED***var h=c.Observable,i=c.CompositeDisposable,j=c.RefCountDisposable,k=c.SingleAssignmentDisposable,l=c.SerialDisposable,m=c.Subject,n=h.prototype,o=h.empty,p=h.never,q=c.AnonymousObservable,r=(c.Observer.create,c.internals.addRef),s=c.internals.isEqual,t=c.helpers.noop,u=c.helpers.identity,v=c.helpers.isPromise,w=h.fromPromise,x=function()***REMOVED***function a(a)***REMOVED***if(0===(1&a))return 2===a;for(var b=Math.sqrt(a),c=3;b>=c;)***REMOVED***if(a%c===0)return!1;c+=2***REMOVED***return!0***REMOVED***function b(b)***REMOVED***var c,d,e;for(c=0;c<h.length;++c)if(d=h[c],d>=b)return d;for(e=1|b;e<h[h.length-1];)***REMOVED***if(a(e))return e;e+=2***REMOVED***return b***REMOVED***function c(a)***REMOVED***var b=757602046;if(!a.length)return b;for(var c=0,d=a.length;d>c;c++)***REMOVED***var e=a.charCodeAt(c);b=(b<<5)-b+e,b&=b***REMOVED***return b***REMOVED***function e(a)***REMOVED***var b=668265261;return a=61^a^a>>>16,a+=a<<3,a^=a>>>4,a*=b,a^=a>>>15***REMOVED***function f()***REMOVED***return***REMOVED***key:null,value:null,next:0,hashCode:0***REMOVED******REMOVED***function g(a,b)***REMOVED***if(0>a)throw new Error("out of range");a>0&&this._initialize(a),this.comparer=b||s,this.freeCount=0,this.size=0,this.freeList=-1***REMOVED***var h=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],i="no such key",j="duplicate key",k=function()***REMOVED***var a=0;return function(b)***REMOVED***if(null==b)throw new Error(i);if("string"==typeof b)return c(b);if("number"==typeof b)return e(b);if("boolean"==typeof b)return b===!0?1:0;if(b instanceof Date)return e(b.valueOf());if(b instanceof RegExp)return c(b.toString());if("function"==typeof b.valueOf)***REMOVED***var d=b.valueOf();if("number"==typeof d)return e(d);if("string"==typeof b)return c(d)***REMOVED***if(b.hashCode)return b.hashCode();var f=17*a++;return b.hashCode=function()***REMOVED***return f***REMOVED***,f***REMOVED******REMOVED***(),l=g.prototype;return l._initialize=function(a)***REMOVED***var c,d=b(a);for(this.buckets=new Array(d),this.entries=new Array(d),c=0;d>c;c++)this.buckets[c]=-1,this.entries[c]=f();this.freeList=-1***REMOVED***,l.add=function(a,b)***REMOVED***this._insert(a,b,!0)***REMOVED***,l._insert=function(a,b,c)***REMOVED***this.buckets||this._initialize(0);for(var d,e=2147483647&k(a),f=e%this.buckets.length,g=this.buckets[f];g>=0;g=this.entries[g].next)if(this.entries[g].hashCode===e&&this.comparer(this.entries[g].key,a))***REMOVED***if(c)throw new Error(j);return void(this.entries[g].value=b)***REMOVED***this.freeCount>0?(d=this.freeList,this.freeList=this.entries[d].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),f=e%this.buckets.length),d=this.size,++this.size),this.entries[d].hashCode=e,this.entries[d].next=this.buckets[f],this.entries[d].key=a,this.entries[d].value=b,this.buckets[f]=d***REMOVED***,l._resize=function()***REMOVED***var a=b(2*this.size),c=new Array(a);for(e=0;e<c.length;++e)c[e]=-1;var d=new Array(a);for(e=0;e<this.size;++e)d[e]=this.entries[e];for(var e=this.size;a>e;++e)d[e]=f();for(var g=0;g<this.size;++g)***REMOVED***var h=d[g].hashCode%a;d[g].next=c[h],c[h]=g***REMOVED***this.buckets=c,this.entries=d***REMOVED***,l.remove=function(a)***REMOVED***if(this.buckets)for(var b=2147483647&k(a),c=b%this.buckets.length,d=-1,e=this.buckets[c];e>=0;e=this.entries[e].next)***REMOVED***if(this.entries[e].hashCode===b&&this.comparer(this.entries[e].key,a))return 0>d?this.buckets[c]=this.entries[e].next:this.entries[d].next=this.entries[e].next,this.entries[e].hashCode=-1,this.entries[e].next=this.freeList,this.entries[e].key=null,this.entries[e].value=null,this.freeList=e,++this.freeCount,!0;d=e***REMOVED***return!1***REMOVED***,l.clear=function()***REMOVED***var a,b;if(!(this.size<=0))***REMOVED***for(a=0,b=this.buckets.length;b>a;++a)this.buckets[a]=-1;for(a=0;a<this.size;++a)this.entries[a]=f();this.freeList=-1,this.size=0***REMOVED******REMOVED***,l._findEntry=function(a)***REMOVED***if(this.buckets)for(var b=2147483647&k(a),c=this.buckets[b%this.buckets.length];c>=0;c=this.entries[c].next)if(this.entries[c].hashCode===b&&this.comparer(this.entries[c].key,a))return c;return-1***REMOVED***,l.count=function()***REMOVED***return this.size-this.freeCount***REMOVED***,l.tryGetValue=function(a)***REMOVED***var b=this._findEntry(a);return b>=0?this.entries[b].value:d***REMOVED***,l.getValues=function()***REMOVED***var a=0,b=[];if(this.entries)for(var c=0;c<this.size;c++)this.entries[c].hashCode>=0&&(b[a++]=this.entries[c].value);return b***REMOVED***,l.get=function(a)***REMOVED***var b=this._findEntry(a);if(b>=0)return this.entries[b].value;throw new Error(i)***REMOVED***,l.set=function(a,b)***REMOVED***this._insert(a,b,!1)***REMOVED***,l.containskey=function(a)***REMOVED***return this._findEntry(a)>=0***REMOVED***,g***REMOVED***();n.join=function(a,b,c,d)***REMOVED***var e=this;return new q(function(f)***REMOVED***var g=new i,h=!1,j=!1,l=0,m=0,n=new x,o=new x;return g.add(e.subscribe(function(a)***REMOVED***var c=l++,e=new k;n.add(c,a),g.add(e);var i,j=function()***REMOVED***n.remove(c)&&0===n.count()&&h&&f.onCompleted(),g.remove(e)***REMOVED***;try***REMOVED***i=b(a)***REMOVED***catch(m)***REMOVED***return void f.onError(m)***REMOVED***e.setDisposable(i.take(1).subscribe(t,f.onError.bind(f),j)),o.getValues().forEach(function(b)***REMOVED***var c;try***REMOVED***c=d(a,b)***REMOVED***catch(e)***REMOVED***return void f.onError(e)***REMOVED***f.onNext(c)***REMOVED***)***REMOVED***,f.onError.bind(f),function()***REMOVED***h=!0,(j||0===n.count())&&f.onCompleted()***REMOVED***)),g.add(a.subscribe(function(a)***REMOVED***var b=m++,e=new k;o.add(b,a),g.add(e);var h,i=function()***REMOVED***o.remove(b)&&0===o.count()&&j&&f.onCompleted(),g.remove(e)***REMOVED***;try***REMOVED***h=c(a)***REMOVED***catch(l)***REMOVED***return void f.onError(l)***REMOVED***e.setDisposable(h.take(1).subscribe(t,f.onError.bind(f),i)),n.getValues().forEach(function(b)***REMOVED***var c;try***REMOVED***c=d(b,a)***REMOVED***catch(e)***REMOVED***return void f.onError(e)***REMOVED***f.onNext(c)***REMOVED***)***REMOVED***,f.onError.bind(f),function()***REMOVED***j=!0,(h||0===o.count())&&f.onCompleted()***REMOVED***)),g***REMOVED***,e)***REMOVED***,n.groupJoin=function(a,b,c,d)***REMOVED***var e=this;return new q(function(f)***REMOVED***function g(a)***REMOVED***return function(b)***REMOVED***b.onError(a)***REMOVED******REMOVED***var h=new i,l=new j(h),n=new x,o=new x,p=0,q=0;return h.add(e.subscribe(function(a)***REMOVED***var c=new m,e=p++;n.add(e,c);var i;try***REMOVED***i=d(a,r(c,l))***REMOVED***catch(j)***REMOVED***return n.getValues().forEach(g(j)),void f.onError(j)***REMOVED***f.onNext(i),o.getValues().forEach(function(a)***REMOVED***c.onNext(a)***REMOVED***);var q=new k;h.add(q);var s,u=function()***REMOVED***n.remove(e)&&c.onCompleted(),h.remove(q)***REMOVED***;try***REMOVED***s=b(a)***REMOVED***catch(j)***REMOVED***return n.getValues().forEach(g(j)),void f.onError(j)***REMOVED***q.setDisposable(s.take(1).subscribe(t,function(a)***REMOVED***n.getValues().forEach(g(a)),f.onError(a)***REMOVED***,u))***REMOVED***,function(a)***REMOVED***n.getValues().forEach(g(a)),f.onError(a)***REMOVED***,f.onCompleted.bind(f))),h.add(a.subscribe(function(a)***REMOVED***var b=q++;o.add(b,a);var d=new k;h.add(d);var e,i=function()***REMOVED***o.remove(b),h.remove(d)***REMOVED***;try***REMOVED***e=c(a)***REMOVED***catch(j)***REMOVED***return n.getValues().forEach(g(j)),void f.onError(j)***REMOVED***d.setDisposable(e.take(1).subscribe(t,function(a)***REMOVED***n.getValues().forEach(g(a)),f.onError(a)***REMOVED***,i)),n.getValues().forEach(function(b)***REMOVED***b.onNext(a)***REMOVED***)***REMOVED***,function(a)***REMOVED***n.getValues().forEach(g(a)),f.onError(a)***REMOVED***)),l***REMOVED***,e)***REMOVED***,n.buffer=function()***REMOVED***return this.window.apply(this,arguments).selectMany(function(a)***REMOVED***return a.toArray()***REMOVED***)***REMOVED***,n.window=function(a,b)***REMOVED***return 1===arguments.length&&"function"!=typeof arguments[0]?f.call(this,a):"function"==typeof a?g.call(this,a):e.call(this,a,b)***REMOVED***,n.pairwise=function()***REMOVED***var a=this;return new q(function(b)***REMOVED***var c,d=!1;return a.subscribe(function(a)***REMOVED***d?b.onNext([c,a]):d=!0,c=a***REMOVED***,b.onError.bind(b),b.onCompleted.bind(b))***REMOVED***,a)***REMOVED***,n.partition=function(a,b)***REMOVED***return[this.filter(a,b),this.filter(function(c,d,e)***REMOVED***return!a.call(b,c,d,e)***REMOVED***)]***REMOVED***,n.groupBy=function(a,b,c)***REMOVED***return this.groupByUntil(a,b,p,c)***REMOVED***,n.groupByUntil=function(a,b,c,d)***REMOVED***var e=this;return b||(b=u),d||(d=s),new q(function(f)***REMOVED***function g(a)***REMOVED***return function(b)***REMOVED***b.onError(a)***REMOVED******REMOVED***var h=new x(0,d),l=new i,n=new j(l);return l.add(e.subscribe(function(d)***REMOVED***var e;try***REMOVED***e=a(d)***REMOVED***catch(i)***REMOVED***return h.getValues().forEach(g(i)),void f.onError(i)***REMOVED***var j=!1,o=h.tryGetValue(e);if(o||(o=new m,h.set(e,o),j=!0),j)***REMOVED***var p=new y(e,o,n),q=new y(e,o);try***REMOVED***duration=c(q)***REMOVED***catch(i)***REMOVED***return h.getValues().forEach(g(i)),void f.onError(i)***REMOVED***f.onNext(p);var r=new k;l.add(r);var s=function()***REMOVED***h.remove(e)&&o.onCompleted(),l.remove(r)***REMOVED***;r.setDisposable(duration.take(1).subscribe(t,function(a)***REMOVED***h.getValues().forEach(g(a)),f.onError(a)***REMOVED***,s))***REMOVED***var u;try***REMOVED***u=b(d)***REMOVED***catch(i)***REMOVED***return h.getValues().forEach(g(i)),void f.onError(i)***REMOVED***o.onNext(u)***REMOVED***,function(a)***REMOVED***h.getValues().forEach(g(a)),f.onError(a)***REMOVED***,function()***REMOVED***h.getValues().forEach(function(a)***REMOVED***a.onCompleted()***REMOVED***),f.onCompleted()***REMOVED***)),n***REMOVED***,e)***REMOVED***;var y=function(a)***REMOVED***function b(a)***REMOVED***return this.underlyingObservable.subscribe(a)***REMOVED***function c(c,d,e)***REMOVED***a.call(this,b),this.key=c,this.underlyingObservable=e?new q(function(a)***REMOVED***return new i(e.getDisposable(),d.subscribe(a))***REMOVED***):d***REMOVED***return inherits(c,a),c***REMOVED***(h);return c***REMOVED***);
//# sourceMappingURL=rx.coincidence.map