/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
(function(a)***REMOVED***var b=***REMOVED***"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1***REMOVED***,c=b[typeof window]&&window||this,d=b[typeof exports]&&exports&&!exports.nodeType&&exports,e=b[typeof module]&&module&&!module.nodeType&&module,f=(e&&e.exports===d&&d,b[typeof global]&&global);!f||f.global!==f&&f.window!==f||(c=f),"function"==typeof define&&define.amd?define(["rx"],function(b,d)***REMOVED***return a(c,d,b)***REMOVED***):"object"==typeof module&&module&&module.exports===d?module.exports=a(c,module.exports,require("./rx")):c.Rx=a(c,***REMOVED******REMOVED***,c.Rx)***REMOVED***).call(this,function(a,b,c)***REMOVED***var d=c.Scheduler,e=c.internals.PriorityQueue,f=c.internals.ScheduledItem,g=c.internals.SchedulePeriodicRecursive,h=c.Disposable.empty,i=c.internals.inherits,j=c.helpers.defaultSubComparer;return c.VirtualTimeScheduler=function(a)***REMOVED***function b()***REMOVED***throw new Error("Not implemented")***REMOVED***function c()***REMOVED***return this.toDateTimeOffset(this.clock)***REMOVED***function d(a,b)***REMOVED***return this.scheduleAbsoluteWithState(a,this.clock,b)***REMOVED***function j(a,b,c)***REMOVED***return this.scheduleRelativeWithState(a,this.toRelative(b),c)***REMOVED***function k(a,b,c)***REMOVED***return this.scheduleRelativeWithState(a,this.toRelative(b-this.now()),c)***REMOVED***function l(a,b)***REMOVED***return b(),h***REMOVED***function m(b,f)***REMOVED***this.clock=b,this.comparer=f,this.isEnabled=!1,this.queue=new e(1024),a.call(this,c,d,j,k)***REMOVED***i(m,a);var n=m.prototype;return n.add=b,n.toDateTimeOffset=b,n.toRelative=b,n.schedulePeriodicWithState=function(a,b,c)***REMOVED***var d=new g(this,a,b,c);return d.start()***REMOVED***,n.scheduleRelativeWithState=function(a,b,c)***REMOVED***var d=this.add(this.clock,b);return this.scheduleAbsoluteWithState(a,d,c)***REMOVED***,n.scheduleRelative=function(a,b)***REMOVED***return this.scheduleRelativeWithState(b,a,l)***REMOVED***,n.start=function()***REMOVED***if(!this.isEnabled)***REMOVED***this.isEnabled=!0;do***REMOVED***var a=this.getNext();null!==a?(this.comparer(a.dueTime,this.clock)>0&&(this.clock=a.dueTime),a.invoke()):this.isEnabled=!1***REMOVED***while(this.isEnabled)***REMOVED******REMOVED***,n.stop=function()***REMOVED***this.isEnabled=!1***REMOVED***,n.advanceTo=function(a)***REMOVED***var b=this.comparer(this.clock,a);if(this.comparer(this.clock,a)>0)throw new Error(argumentOutOfRange);if(0!==b&&!this.isEnabled)***REMOVED***this.isEnabled=!0;do***REMOVED***var c=this.getNext();null!==c&&this.comparer(c.dueTime,a)<=0?(this.comparer(c.dueTime,this.clock)>0&&(this.clock=c.dueTime),c.invoke()):this.isEnabled=!1***REMOVED***while(this.isEnabled);this.clock=a***REMOVED******REMOVED***,n.advanceBy=function(a)***REMOVED***var b=this.add(this.clock,a),c=this.comparer(this.clock,b);if(c>0)throw new Error(argumentOutOfRange);0!==c&&this.advanceTo(b)***REMOVED***,n.sleep=function(a)***REMOVED***var b=this.add(this.clock,a);if(this.comparer(this.clock,b)>=0)throw new Error(argumentOutOfRange);this.clock=b***REMOVED***,n.getNext=function()***REMOVED***for(;this.queue.length>0;)***REMOVED***var a=this.queue.peek();if(!a.isCancelled())return a;this.queue.dequeue()***REMOVED***return null***REMOVED***,n.scheduleAbsolute=function(a,b)***REMOVED***return this.scheduleAbsoluteWithState(b,a,l)***REMOVED***,n.scheduleAbsoluteWithState=function(a,b,c)***REMOVED***function d(a,b)***REMOVED***return e.queue.remove(g),c(a,b)***REMOVED***var e=this,g=new f(this,a,d,b,this.comparer);return this.queue.enqueue(g),g.disposable***REMOVED***,m***REMOVED***(d),c.HistoricalScheduler=function(a)***REMOVED***function b(b,c)***REMOVED***var d=null==b?0:b,e=c||j;a.call(this,d,e)***REMOVED***i(b,a);var c=b.prototype;return c.add=function(a,b)***REMOVED***return a+b***REMOVED***,c.toDateTimeOffset=function(a)***REMOVED***return new Date(a).getTime()***REMOVED***,c.toRelative=function(a)***REMOVED***return a***REMOVED***,b***REMOVED***(c.VirtualTimeScheduler),c***REMOVED***);
//# sourceMappingURL=rx.virtualtime.map