  /**
   * Projects each notification of an observable sequence to an observable sequence and merges the resulting observable sequences into one observable sequence.
   * @param ***REMOVED***Function***REMOVED*** onNext A transform function to apply to each element; the second parameter of the function represents the index of the source element.
   * @param ***REMOVED***Function***REMOVED*** onError A transform function to apply when an error occurs in the source sequence.
   * @param ***REMOVED***Function***REMOVED*** onCompleted A transform function to apply when the end of the source sequence is reached.
   * @param ***REMOVED***Any***REMOVED*** [thisArg] An optional "this" to use to invoke each transform.
   * @returns ***REMOVED***Observable***REMOVED*** An observable sequence whose elements are the result of invoking the one-to-many transform function corresponding to each notification in the input sequence.
   */
  observableProto.flatMapObserver = observableProto.selectManyObserver = function (onNext, onError, onCompleted, thisArg) ***REMOVED***
    var source = this;
    return new AnonymousObservable(function (observer) ***REMOVED***
      var index = 0;

      return source.subscribe(
        function (x) ***REMOVED***
          var result;
          try ***REMOVED***
            result = onNext.call(thisArg, x, index++);
          ***REMOVED*** catch (e) ***REMOVED***
            observer.onError(e);
            return;
          ***REMOVED***
          isPromise(result) && (result = observableFromPromise(result));
          observer.onNext(result);
        ***REMOVED***,
        function (err) ***REMOVED***
          var result;
          try ***REMOVED***
            result = onError.call(thisArg, err);
          ***REMOVED*** catch (e) ***REMOVED***
            observer.onError(e);
            return;
          ***REMOVED***
          isPromise(result) && (result = observableFromPromise(result));
          observer.onNext(result);
          observer.onCompleted();
        ***REMOVED***,
        function () ***REMOVED***
          var result;
          try ***REMOVED***
            result = onCompleted.call(thisArg);
          ***REMOVED*** catch (e) ***REMOVED***
            observer.onError(e);
            return;
          ***REMOVED***
          isPromise(result) && (result = observableFromPromise(result));
          observer.onNext(result);
          observer.onCompleted();
        ***REMOVED***);
    ***REMOVED***, source).mergeAll();
  ***REMOVED***;
