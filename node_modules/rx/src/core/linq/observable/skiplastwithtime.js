  /**
   *  Skips elements for the specified duration from the end of the observable source sequence, using the specified scheduler to run timers.
   *
   *  1 - res = source.skipLastWithTime(5000);
   *  2 - res = source.skipLastWithTime(5000, scheduler);
   *
   * @description
   *  This operator accumulates a queue with a length enough to store elements received during the initial duration window.
   *  As more elements are received, elements older than the specified duration are taken from the queue and produced on the
   *  result sequence. This causes elements to be delayed with duration.
   * @param ***REMOVED***Number***REMOVED*** duration Duration for skipping elements from the end of the sequence.
   * @param ***REMOVED***Scheduler***REMOVED*** [scheduler]  Scheduler to run the timer on. If not specified, defaults to Rx.Scheduler.timeout
   * @returns ***REMOVED***Observable***REMOVED*** An observable sequence with the elements skipped during the specified duration from the end of the source sequence.
   */
  observableProto.skipLastWithTime = function (duration, scheduler) ***REMOVED***
    isScheduler(scheduler) || (scheduler = timeoutScheduler);
    var source = this;
    return new AnonymousObservable(function (o) ***REMOVED***
      var q = [];
      return source.subscribe(function (x) ***REMOVED***
        var now = scheduler.now();
        q.push(***REMOVED*** interval: now, value: x ***REMOVED***);
        while (q.length > 0 && now - q[0].interval >= duration) ***REMOVED***
          o.onNext(q.shift().value);
        ***REMOVED***
      ***REMOVED***, function (e) ***REMOVED*** o.onError(e); ***REMOVED***, function () ***REMOVED***
        var now = scheduler.now();
        while (q.length > 0 && now - q[0].interval >= duration) ***REMOVED***
          o.onNext(q.shift().value);
        ***REMOVED***
        o.onCompleted();
      ***REMOVED***);
    ***REMOVED***, source);
  ***REMOVED***;
