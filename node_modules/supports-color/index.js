'use strict';
var hasFlag = require('has-flag');

var support = function (level) ***REMOVED***
	if (level === 0) ***REMOVED***
		return false;
	***REMOVED***

	return ***REMOVED***
		level: level,
		hasBasic: true,
		has256: level >= 2,
		has16m: level >= 3
	***REMOVED***;
***REMOVED***;

var supportLevel = (function () ***REMOVED***
	if (hasFlag('no-color') ||
		hasFlag('no-colors') ||
		hasFlag('color=false')) ***REMOVED***
		return 0;
	***REMOVED***

	if (hasFlag('color=16m') ||
		hasFlag('color=full') ||
		hasFlag('color=truecolor')) ***REMOVED***
		return 3;
	***REMOVED***

	if (hasFlag('color=256')) ***REMOVED***
		return 2;
	***REMOVED***

	if (hasFlag('color') ||
		hasFlag('colors') ||
		hasFlag('color=true') ||
		hasFlag('color=always')) ***REMOVED***
		return 1;
	***REMOVED***

	if (process.stdout && !process.stdout.isTTY) ***REMOVED***
		return 0;
	***REMOVED***

	if (process.platform === 'win32') ***REMOVED***
		return 1;
	***REMOVED***

	if ('CI' in process.env) ***REMOVED***
		if ('TRAVIS' in process.env || process.env.CI === 'Travis') ***REMOVED***
			return 1;
		***REMOVED***

		return 0;
	***REMOVED***

	if ('TEAMCITY_VERSION' in process.env) ***REMOVED***
		return process.env.TEAMCITY_VERSION.match(/^(9\.(0*[1-9]\d*)\.|\d***REMOVED***2,***REMOVED***\.)/) === null ? 0 : 1;
	***REMOVED***

	if (/^(screen|xterm)-256(?:color)?/.test(process.env.TERM)) ***REMOVED***
		return 2;
	***REMOVED***

	if (/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)) ***REMOVED***
		return 1;
	***REMOVED***

	if ('COLORTERM' in process.env) ***REMOVED***
		return 1;
	***REMOVED***

	if (process.env.TERM === 'dumb') ***REMOVED***
		return 0;
	***REMOVED***

	return 0;
***REMOVED***)();

if (supportLevel === 0 && 'FORCE_COLOR' in process.env) ***REMOVED***
	supportLevel = 1;
***REMOVED***

module.exports = process && support(supportLevel);
