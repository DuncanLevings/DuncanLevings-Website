var parse = require('../parse/index.js')

/**
 * @category Range Helpers
 * @summary Is the given date range overlapping with another date range?
 *
 * @description
 * Is the given date range overlapping with another date range?
 *
 * @param ***REMOVED***Date|String|Number***REMOVED*** initialRangeStartDate - the start of the initial range
 * @param ***REMOVED***Date|String|Number***REMOVED*** initialRangeEndDate - the end of the initial range
 * @param ***REMOVED***Date|String|Number***REMOVED*** comparedRangeStartDate - the start of the range to compare it with
 * @param ***REMOVED***Date|String|Number***REMOVED*** comparedRangeEndDate - the end of the range to compare it with
 * @returns ***REMOVED***Boolean***REMOVED*** whether the date ranges are overlapping
 * @throws ***REMOVED***Error***REMOVED*** startDate of a date range cannot be after its endDate
 *
 * @example
 * // For overlapping date ranges:
 * areRangesOverlapping(
 *   new Date(2014, 0, 10), new Date(2014, 0, 20), new Date(2014, 0, 17), new Date(2014, 0, 21)
 * )
 * //=> true
 *
 * @example
 * // For non-overlapping date ranges:
 * areRangesOverlapping(
 *   new Date(2014, 0, 10), new Date(2014, 0, 20), new Date(2014, 0, 21), new Date(2014, 0, 22)
 * )
 * //=> false
 */
function areRangesOverlapping (dirtyInitialRangeStartDate, dirtyInitialRangeEndDate, dirtyComparedRangeStartDate, dirtyComparedRangeEndDate) ***REMOVED***
  var initialStartTime = parse(dirtyInitialRangeStartDate).getTime()
  var initialEndTime = parse(dirtyInitialRangeEndDate).getTime()
  var comparedStartTime = parse(dirtyComparedRangeStartDate).getTime()
  var comparedEndTime = parse(dirtyComparedRangeEndDate).getTime()

  if (initialStartTime > initialEndTime || comparedStartTime > comparedEndTime) ***REMOVED***
    throw new Error('The start of the range cannot be after the end of the range')
  ***REMOVED***

  return initialStartTime < comparedEndTime && comparedStartTime < initialEndTime
***REMOVED***

module.exports = areRangesOverlapping
