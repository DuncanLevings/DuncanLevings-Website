var buildFormattingTokensRegExp = require('../../_lib/build_formatting_tokens_reg_exp/index.js')

function buildFormatLocale () ***REMOVED***
  var months3char = ['яну', 'фев', 'мар', 'апр', 'май', 'юни', 'юли', 'авг', 'сеп', 'окт', 'ное', 'дек']
  var monthsFull = ['януари', 'февруари', 'март', 'април', 'май', 'юни', 'юли', 'август', 'септември', 'октомври', 'ноември', 'декември']
  var weekdays2char = ['нд', 'пн', 'вт', 'ср', 'чт', 'пт', 'сб']
  var weekdays3char = ['нед', 'пон', 'вто', 'сря', 'чет', 'пет', 'съб']
  var weekdaysFull = ['неделя', 'понеделник', 'вторник', 'сряда', 'четвъртък', 'петък', 'събота']
  var meridiem = ['сутринта', 'на обяд', 'следобед', 'вечерта']

  var timeOfDay = function (date) ***REMOVED***
    var hours = date.getHours()
    if (hours >= 4 && hours < 12) ***REMOVED***
      return meridiem[0]
    ***REMOVED*** else if (hours >= 12 && hours < 14) ***REMOVED***
      return meridiem[1]
    ***REMOVED*** else if (hours >= 14 && hours < 17) ***REMOVED***
      return meridiem[2]
    ***REMOVED*** else ***REMOVED***
      return meridiem[3]
    ***REMOVED***
  ***REMOVED***

  var formatters = ***REMOVED***
    // Month: Jan, Feb, ..., Dec
    'MMM': function (date) ***REMOVED***
      return months3char[date.getMonth()]
    ***REMOVED***,

    // Month: January, February, ..., December
    'MMMM': function (date) ***REMOVED***
      return monthsFull[date.getMonth()]
    ***REMOVED***,

    // Day of week: Su, Mo, ..., Sa
    'dd': function (date) ***REMOVED***
      return weekdays2char[date.getDay()]
    ***REMOVED***,

    // Day of week: Sun, Mon, ..., Sat
    'ddd': function (date) ***REMOVED***
      return weekdays3char[date.getDay()]
    ***REMOVED***,

    // Day of week: Sunday, Monday, ..., Saturday
    'dddd': function (date) ***REMOVED***
      return weekdaysFull[date.getDay()]
    ***REMOVED***,

    // AM, PM
    'A': timeOfDay,

    // am, pm
    'a': timeOfDay,

    // a.m., p.m.
    'aa': timeOfDay
  ***REMOVED***

  // Generate ordinal version of formatters: M -> Mo, D -> Do, etc.
  var ordinalFormatters = ['M', 'D', 'DDD', 'd', 'Q', 'W']
  ordinalFormatters.forEach(function (formatterToken) ***REMOVED***
    formatters[formatterToken + 'o'] = function (date, formatters) ***REMOVED***
      return ordinal(formatters[formatterToken](date))
    ***REMOVED***
  ***REMOVED***)

  return ***REMOVED***
    formatters: formatters,
    formattingTokensRegExp: buildFormattingTokensRegExp(formatters)
  ***REMOVED***
***REMOVED***

function ordinal (number) ***REMOVED***
  var rem100 = number % 100
  if (rem100 > 20 || rem100 < 10) ***REMOVED***
    switch (rem100 % 10) ***REMOVED***
      case 1:
        return number + '-ви'
      case 2:
        return number + '-ри'
    ***REMOVED***
  ***REMOVED***
  return number + '-и'
***REMOVED***

module.exports = buildFormatLocale
