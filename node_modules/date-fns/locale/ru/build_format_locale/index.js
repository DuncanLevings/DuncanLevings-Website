var buildFormattingTokensRegExp = require('../../_lib/build_formatting_tokens_reg_exp/index.js')

function buildFormatLocale () ***REMOVED***
  // http://new.gramota.ru/spravka/buro/search-answer?s=242637
  var monthsShort = ['янв.', 'фев.', 'март', 'апр.', 'май', 'июнь', 'июль', 'авг.', 'сент.', 'окт.', 'нояб.', 'дек.']
  var monthsFull = ['январь', 'февраль', 'март', 'апрель', 'май', 'июнь', 'июль', 'август', 'сентябрь', 'октябрь', 'ноябрь', 'декабрь']
  var monthsGenitive = ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря']
  var weekdays2char = ['вс', 'пн', 'вт', 'ср', 'чт', 'пт', 'сб']
  var weekdays3char = ['вск', 'пнд', 'втр', 'срд', 'чтв', 'птн', 'суб']
  var weekdaysFull = ['воскресенье', 'понедельник', 'вторник', 'среда', 'четверг', 'пятница', 'суббота']
  var meridiem = ['ночи', 'утра', 'дня', 'вечера']

  var formatters = ***REMOVED***
    // Month: янв., фев., ..., дек.
    'MMM': function (date) ***REMOVED***
      return monthsShort[date.getMonth()]
    ***REMOVED***,

    // Month: январь, февраль, ..., декабрь
    'MMMM': function (date) ***REMOVED***
      return monthsFull[date.getMonth()]
    ***REMOVED***,

    // Day of week: вс, пн, ..., сб
    'dd': function (date) ***REMOVED***
      return weekdays2char[date.getDay()]
    ***REMOVED***,

    // Day of week: вск, пнд, ..., суб
    'ddd': function (date) ***REMOVED***
      return weekdays3char[date.getDay()]
    ***REMOVED***,

    // Day of week: воскресенье, понедельник, ..., суббота
    'dddd': function (date) ***REMOVED***
      return weekdaysFull[date.getDay()]
    ***REMOVED***,

    // Time of day: ночи, утра, дня, вечера
    'A': function (date) ***REMOVED***
      var hours = date.getHours()
      if (hours >= 17) ***REMOVED***
        return meridiem[3]
      ***REMOVED*** else if (hours >= 12) ***REMOVED***
        return meridiem[2]
      ***REMOVED*** else if (hours >= 4) ***REMOVED***
        return meridiem[1]
      ***REMOVED*** else ***REMOVED***
        return meridiem[0]
      ***REMOVED***
    ***REMOVED***,

    'Do': function (date, formatters) ***REMOVED***
      return formatters.D(date) + '-е'
    ***REMOVED***,

    'Wo': function (date, formatters) ***REMOVED***
      return formatters.W(date) + '-я'
    ***REMOVED***
  ***REMOVED***

  formatters.a = formatters.A
  formatters.aa = formatters.A

  // Generate ordinal version of formatters: M -> Mo, DDD -> DDDo, etc.
  var ordinalFormatters = ['M', 'DDD', 'd', 'Q']
  ordinalFormatters.forEach(function (formatterToken) ***REMOVED***
    formatters[formatterToken + 'o'] = function (date, formatters) ***REMOVED***
      return formatters[formatterToken](date) + '-й'
    ***REMOVED***
  ***REMOVED***)

  // Generate formatters like 'D MMMM',
  // where month is in the genitive case: января, февраля, ..., декабря
  var monthsGenitiveFormatters = ['D', 'Do', 'DD']
  monthsGenitiveFormatters.forEach(function (formatterToken) ***REMOVED***
    formatters[formatterToken + ' MMMM'] = function (date, commonFormatters) ***REMOVED***
      var formatter = formatters[formatterToken] || commonFormatters[formatterToken]
      return formatter(date, commonFormatters) + ' ' + monthsGenitive[date.getMonth()]
    ***REMOVED***
  ***REMOVED***)

  return ***REMOVED***
    formatters: formatters,
    formattingTokensRegExp: buildFormattingTokensRegExp(formatters)
  ***REMOVED***
***REMOVED***

module.exports = buildFormatLocale
