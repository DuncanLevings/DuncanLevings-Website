'use strict';
const fs = require('fs');
const util = require('util');
const is = require('@sindresorhus/is');
const isFormData = require('./is-form-data');

module.exports = async options => ***REMOVED***
	const ***REMOVED***body***REMOVED*** = options;

	if (options.headers['content-length']) ***REMOVED***
		return Number(options.headers['content-length']);
	***REMOVED***

	if (!body && !options.stream) ***REMOVED***
		return 0;
	***REMOVED***

	if (is.string(body)) ***REMOVED***
		return Buffer.byteLength(body);
	***REMOVED***

	if (isFormData(body)) ***REMOVED***
		return util.promisify(body.getLength.bind(body))();
	***REMOVED***

	if (body instanceof fs.ReadStream) ***REMOVED***
		const ***REMOVED***size***REMOVED*** = await util.promisify(fs.stat)(body.path);
		return size;
	***REMOVED***

	return null;
***REMOVED***;
