
var test = require('tape')
var _JSON = require('../')

function clone (o) ***REMOVED***
  return JSON.parse(JSON.stringify(o))
***REMOVED***

var examples = ***REMOVED***
  simple: ***REMOVED*** foo: [], bar: ***REMOVED******REMOVED***, baz: new Buffer('some binary data') ***REMOVED***,
  just_buffer: new Buffer('JUST A BUFFER'),
  all_types: ***REMOVED***
    string:'hello',
    number: 3145,
    null: null,
    object: ***REMOVED******REMOVED***,
    array: [],
    boolean: true,
    boolean2: false
  ***REMOVED***,
  foo: new Buffer('foo'),
  foo2: new Buffer('foo2'),
  escape: ***REMOVED***
    buffer: new Buffer('x'),
    string: _JSON.stringify(new Buffer('x'))
  ***REMOVED***,
  escape2: ***REMOVED***
    buffer: new Buffer('x'),
    string: ':base64:'+ new Buffer('x').toString('base64')
  ***REMOVED***,
  undefined: ***REMOVED***
    empty: undefined, test: true
  ***REMOVED***,
  undefined2: ***REMOVED***
    first: 1, empty: undefined, test: true
  ***REMOVED***,
  undefinedArray: ***REMOVED***
    array: [undefined, 1, 'two']
  ***REMOVED***,
  fn: ***REMOVED***
    fn: function () ***REMOVED******REMOVED***    
  ***REMOVED***,
  undefined: undefined
***REMOVED***

for(k in examples)
(function (value, k) ***REMOVED*** 
  test(k, function (t) ***REMOVED***
    var s = _JSON.stringify(value)
    console.log('parse', s)
    if(JSON.stringify(value) !== undefined) ***REMOVED***
      console.log(s)
      var _value = _JSON.parse(s)
      t.deepEqual(clone(_value), clone(value))
    ***REMOVED***
    else
      t.equal(s, undefined)
    t.end()
  ***REMOVED***)
***REMOVED***)(examples[k], k)



