'use strict';

const Readable = require('stream').Readable;
const lowercaseKeys = require('lowercase-keys');

class Response extends Readable ***REMOVED***
	constructor(statusCode, headers, body, url) ***REMOVED***
		if (typeof statusCode !== 'number') ***REMOVED***
			throw new TypeError('Argument `statusCode` should be a number');
		***REMOVED***
		if (typeof headers !== 'object') ***REMOVED***
			throw new TypeError('Argument `headers` should be an object');
		***REMOVED***
		if (!(body instanceof Buffer)) ***REMOVED***
			throw new TypeError('Argument `body` should be a buffer');
		***REMOVED***
		if (typeof url !== 'string') ***REMOVED***
			throw new TypeError('Argument `url` should be a string');
		***REMOVED***

		super();
		this.statusCode = statusCode;
		this.headers = lowercaseKeys(headers);
		this.body = body;
		this.url = url;
	***REMOVED***

	_read() ***REMOVED***
		this.push(this.body);
		this.push(null);
	***REMOVED***
***REMOVED***

module.exports = Response;
