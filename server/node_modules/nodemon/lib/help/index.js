var fs = require('fs');
var path = require('path');
const supportsColor = require('supports-color');

module.exports = help;

const highlight = supportsColor.stdout ? '\x1B\[$1m' : '';

function help(item) ***REMOVED***
  if (!item) ***REMOVED***
    item = 'help';
  ***REMOVED*** else if (item === true) ***REMOVED*** // if used with -h or --help and no args
    item = 'help';
  ***REMOVED***

  // cleanse the filename to only contain letters
  // aka: /\W/g but figured this was eaiser to read
  item = item.replace(/[^a-z]/gi, '');

  try ***REMOVED***
    var dir = path.join(__dirname, '..', '..', 'doc', 'cli', item + '.txt');
    var body = fs.readFileSync(dir, 'utf8');
    return body.replace(/\\x1B\[(.)m/g, highlight);
  ***REMOVED*** catch (e) ***REMOVED***
    return '"' + item + '" help can\'t be found';
  ***REMOVED***
***REMOVED***
